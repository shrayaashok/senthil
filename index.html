<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Enanga â€” A Magical Birthday âœ¨</title>
<style>
  :root{
    --night-1: #030821;
    --night-2: #06173a;
    --glow: rgba(255,190,120,0.12);
    --accent: #89d4ff;
    --warm: #ffcfa8;
    --maxwidth: 1100px;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;background:
    radial-gradient(1200px 600px at 80% 10%, rgba(138,214,255,0.04), transparent 6%),
    linear-gradient(180deg,var(--night-1) 0%, var(--night-2) 70%, #001428 100%);
    color:#e6f0ff; -webkit-font-smoothing:antialiased; overflow-x:hidden;}
  .wrap{max-width:var(--maxwidth);margin:20px auto;padding:18px}
  header{display:flex;align-items:center;gap:16px}
  h1{margin:0;font-size:28px}
  p.lead{margin:4px 0 0;color:#cfe9ff;opacity:.95}

/* starfield & shooting stars */
  .sky{position:relative;height:68vh;border-radius:12px;overflow:hidden;margin-top:14px;box-shadow:0 30px 80px rgba(0,0,0,0.6)}
  .stars{position:absolute;inset:0;background-image:
    radial-gradient(white 1px, transparent 1px), radial-gradient(white 1px, transparent 1px);
    background-size: 120px 120px, 200px 200px; background-position: 10% 20%, 70% 60%; opacity:.12; pointer-events:none;}
  .shoot{position:absolute;width:3px;height:60px;background:linear-gradient(90deg, rgba(255,255,255,0.9), rgba(255,255,255,0.02));opacity:0;transform:rotate(-25deg);filter:blur(0.6px)}
  @keyframes shoot {0%{opacity:0; transform: translateX(-20vw) translateY(-10vh) rotate(-25deg)}10%{opacity:1}100%{opacity:0; transform: translateX(60vw) translateY(-60vh) rotate(-25deg)}}

/* ground silhouette */
  .ground{position:absolute;left:0;right:0;bottom:0;height:26%;pointer-events:none}
  .land{width:100%;height:100%;display:flex;align-items:flex-end;justify-content:center;position:relative}
  .land svg{position:absolute;bottom:0;left:0;width:100%;height:100%}

/* candles container */
  .lanterns{position:absolute;left:0;right:0;bottom:16px;height:62%;pointer-events:auto}

/* lantern styles */
  .lantern{position:absolute;bottom:8px;width:120px;height:170px;border-radius:20px;transform-origin:center bottom;display:flex;flex-direction:column;align-items:center;cursor:pointer}
  .glass{width:86px;height:120px;border-radius:12px;overflow:hidden;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));display:flex;align-items:center;justify-content:center;border:1px solid rgba(255,255,255,0.04);box-shadow:0 8px 30px rgba(0,0,0,0.6), inset 0 2px 10px rgba(255,255,255,0.02)}
  .glass img{width:100%;height:100%;object-fit:cover;display:block;filter:contrast(.98) saturate(1.02)}
  .flameholder{width:28px;height:38px;margin-top:8px;border-radius:8px;background:linear-gradient(180deg,#3a2313,#24130b)}
  .flame{position:absolute;bottom:98px;width:12px;height:16px;border-radius:50%;left:50%;transform:translateX(-50%);background:radial-gradient(circle at 40% 30%, #fff 0%, #ffdca8 12%, #ff9a4d 45%, transparent 60%);box-shadow:0 0 14px rgba(255,150,80,0.5);animation:flame 1100ms infinite}
  @keyframes flame{0%{transform:translateX(-50%) translateY(0)}50%{transform:translateX(-50%) translateY(-6px) scaleY(1.06)}100%{transform:translateX(-50%) translateY(0)}}

/* candle glow */
  .glow{position:absolute;left:50%;transform:translateX(-50%);bottom:72px;width:76px;height:76px;border-radius:50%;background:radial-gradient(circle, rgba(255,200,150,0.22), rgba(255,160,100,0.06) 40%, transparent 60%);filter:blur(12px);opacity:0;transition:opacity .25s}

/* rising animation */
  @keyframes rise {0%{opacity:0;transform:translateY(0) scale(.98) rotate(0deg)}10%{opacity:1}100%{opacity:1;transform:translateY(-120vh) scale(.82) rotate(var(--rot))}}

/* hearts & sparkles */
  .hearts{position:absolute;inset:0;pointer-events:none}
  .heart{position:absolute;width:24px;height:24px;transform:rotate(45deg);background:linear-gradient(45deg,#ff7bb1,#ff4382);border-radius:4px;opacity:0.9}
  .spark{position:absolute;width:8px;height:8px;border-radius:50%;background:radial-gradient(circle at 30% 30%,white,#cfe7ff);opacity:0.95}

/* message area */
  .card{position:relative;margin-top:12px;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));border-radius:14px;padding:14px;display:flex;gap:14px;align-items:center}
  .msg-box{flex:1}
  .msg{font-size:16px;color:#f6f8ff;line-height:1.5}
  .controls{display:flex;gap:8px;align-items:center}

/* final surprise button */
  .final-btn{margin-left:auto;background:linear-gradient(90deg,#ffb57a,#ff7aa2);border:none;padding:10px 14px;border-radius:12px;color:#281218;font-weight:800;cursor:pointer;box-shadow:0 8px 30px rgba(255,120,140,0.12)}

/* responsive tweaks */
  @media (max-width:720px){
    .lantern{width:88px;height:136px}
    .glass{width:64px;height:96px}
  }
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <h1>Enanga â€” Candle-Light Memories</h1>
        <p class="lead">Night of stars, rising candles, and little love surprises. Click a candle to view the photo, press Release to set them free.</p>
      </div>
      <div style="margin-left:auto;display:flex;gap:10px;align-items:center">
        <button id="releaseBtn" class="final-btn">Release Candles âœ¨</button>
        <button id="playMusic" style="background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px 10px;border-radius:10px;color:#fff;cursor:pointer">Play Music â™ª</button>
      </div>
    </header>

    <section class="sky" id="sky">
      <div class="stars"></div>
      <!-- some shooting stars -->
      <div id="shoots"></div>

      <div class="lanterns" id="lanterns"></div>

      <div class="hearts" id="hearts"></div>

      <div class="ground">
        <div class="land">
          <svg viewBox="0 0 1200 160" preserveAspectRatio="none"><path d="M0,120 C120,80 240,140 360,100 C480,60 600,120 720,90 C840,60 960,120 1080,92 C1100,88 1200,80 1200,80 L1200,160 L0,160 Z" fill="rgba(3,8,20,0.95)"></path></svg>
        </div>
      </div>
    </section>

    <div class="card" aria-live="polite">
      <div class="msg-box">
        <div id="message" class="msg">Click "Release Candles" â€” little lights are waiting to carry your memories to the sky.</div>
      </div>
      <div class="controls">
        <button id="nextMsg" style="background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px 10px;border-radius:10px;color:#fff;cursor:pointer">Next message</button>
        <button id="surpriseBtn" class="final-btn">Open Surprise ðŸ’Œ</button>
      </div>
    </div>
  </div>

  <!-- final surprise modal -->
  <div id="surpriseModal" style="position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.6);z-index:9999">
    <div style="background:linear-gradient(180deg,rgba(255,255,255,0.03),rgba(255,255,255,0.02));padding:24px;border-radius:14px;max-width:720px;color:#fff;box-shadow:0 30px 90px rgba(0,0,0,0.7);text-align:center">
      <h2 style="margin:0 0 10px">Happy Birthday, Enanga ðŸ’œ</h2>
      <p style="margin:8px 0 16px;line-height:1.6;color:#f3f6ff">You are my quiet happiness â€” the glow that warms my every day. Today, I release these little lights as tiny letters of love; each one carries a memory, a laugh, a promise. I love you more than words. â€” Always yours.</p>
      <button id="closeSurprise" style="background:linear-gradient(90deg,#ffd6e0,#a18cd1);border:none;padding:10px 14px;border-radius:10px;color:#2b1222;font-weight:800;cursor:pointer">Close</button>
    </div>
  </div>

  <!-- audio (optional) -->
  <!-- Put your mp3 at music/background.mp3 or change src -->
  <audio id="bgMusic" loop>
    <source src="music/background.mp3" type="audio/mpeg">
    <!-- If you don't want music, remove this whole <audio> block -->
  </audio>

<script>
/* CONFIG */
const MAX_PHOTOS = 12; // will attempt to load up to this many images named photo1..photo12
const photos = [];
for(let i=1;i<=MAX_PHOTOS;i++) photos.push(`images/photo${i}.jpg`);

/* helpers */
function preload(list, cb){
  let done = 0, found = [];
  list.forEach((u)=> {
    const img = new Image();
    img.onload = ()=>{ found.push(u); done++; if(done===list.length) cb(found); };
    img.onerror = ()=>{ done++; if(done===list.length) cb(found); };
    img.src = u;
  });
}

/* build lanterns */
const lanternsEl = document.getElementById('lanterns');
function build(l){
  lanternsEl.innerHTML = '';
  if(l.length===0){
    lanternsEl.innerHTML = `<div style="position:absolute;left:50%;transform:translateX(-50%);bottom:28px;color:#cfe9ff;padding:10px;background:rgba(0,0,0,0.2);border-radius:8px">No images found â€” add photo1.jpg ...</div>`;
    return;
  }
  const count = l.length;
  l.forEach((src, idx)=>{
    const el = document.createElement('div');
    el.className = 'lantern';
    // position across width (8%..92%)
    const leftPct = 8 + (idx/(count-1 || 1))*84;
    const jitter = (Math.random()*14)-7;
    el.style.left = `calc(${leftPct}% + ${jitter}px)`;
    // random rotation variable
    const rot = (Math.random()*22 - 11).toFixed(2) + 'deg';
    el.style.setProperty('--rot', rot);
    el.innerHTML = `<div class="glow" aria-hidden="true"></div><div class="glass"><img src="${src}" alt="memory"></div><div class="flame" aria-hidden="true"></div><div class="flameholder" aria-hidden="true"></div>`;
    el.addEventListener('click', (e)=>{ e.stopPropagation(); openOverlay(src); });
    lanternsEl.appendChild(el);
    // gentle waiting glow
    const g = el.querySelector('.glow');
    setTimeout(()=> g.style.opacity = 0.92, 150 + idx*60);
  });
}

/* release animation */
function release(list){
  const nodes = Array.from(document.querySelectorAll('.lantern'));
  if(!nodes.length) return;
  nodes.forEach((n,i)=>{
    const duration = 9000 + Math.random()*7000;
    const delay = i * 650 + Math.random()*300;
    // gentle glow animation
    const glow = n.querySelector('.glow');
    glow.animate([{opacity:0.92, transform:'scale(1)'},{opacity:0.15, transform:'scale(1.6)'}], {duration:duration, fill:'forwards'});
    // rise using CSS keyframe
    n.style.animation = `rise ${duration}ms linear ${delay}ms forwards`;
    // slight horizontal sway via Web Animations
    n.animate([
      { transform: `translateY(0) rotate(0deg)` },
      { transform: `translateY(-24vh) rotate(${(Math.random()*8-4).toFixed(2)}deg)` },
      { transform: `translateY(-48vh) rotate(${(Math.random()*-8+4).toFixed(2)}deg)` },
      { transform: `translateY(-120vh) rotate(${n.style.getPropertyValue('--rot')})` }
    ], { duration: duration + 300, delay: delay, fill:'forwards', easing:'linear' });
    // fade flame
    const flame = n.querySelector('.flame');
    flame.animate([{opacity:1},{opacity:0, transform:'translateY(-30px) scale(.92)'}], {duration: duration, delay: delay, fill:'forwards'});
    // remove after
    setTimeout(()=>{ try{ n.remove(); }catch(e){} }, duration + delay + 350);
  });
  // also start hearts & sparkles
  startHearts();
}

/* overlay */
function openOverlay(src){
  const o = document.createElement('div');
  o.style.position='fixed'; o.style.inset=0; o.style.background='rgba(1,6,14,0.86)'; o.style.display='flex'; o.style.alignItems='center'; o.style.justifyContent='center'; o.style.zIndex=9999; o.style.cursor='zoom-out';
  const img = document.createElement('img'); img.src=src; img.style.maxWidth='92%'; img.style.maxHeight='92%'; img.style.borderRadius='12px'; img.style.boxShadow='0 40px 120px rgba(0,0,0,0.9)';
  o.appendChild(img);
  o.addEventListener('click', ()=> o.remove());
  document.body.appendChild(o);
}

/* hearts & sparkles */
const heartsEl = document.getElementById('hearts');
let heartInterval;
function startHearts(){
  // emit short shower of hearts & sparkles
  const colors = ['#ff7bb1','#ffd088','#c9a7ff','#89d4ff'];
  let emit = 0;
  heartInterval = setInterval(()=>{
    emit++;
    const h = document.createElement('div');
    h.className='heart';
    const size = 10 + Math.random()*26;
    h.style.width = h.style.height = size+'px';
    h.style.left = (20 + Math.random()*60) + '%';
    h.style.bottom = (10 + Math.random()*6) + '%';
    h.style.background = `linear-gradient(45deg, ${colors[Math.floor(Math.random()*colors.length)]}, #ff6b9a)`;
    heartsEl.appendChild(h);
    h.animate([{transform:'translateY(0) rotate(45deg)', opacity:1},{transform:'translateY(-40vh) rotate(45deg)', opacity:0}], {duration:3000 + Math.random()*2000, easing:'cubic-bezier(.2,.8,.2,1)'});
    setTimeout(()=> h.remove(), 3800);
    // sparkles
    if(Math.random() > 0.5){
      const s = document.createElement('div'); s.className='spark'; s.style.left = (20 + Math.random()*60) + '%'; s.style.bottom = (10 + Math.random()*20) + '%'; heartsEl.appendChild(s);
      s.animate([{transform:'scale(0)', opacity:0},{transform:'scale(1.2)', opacity:1},{transform:'scale(.2)', opacity:0}], {duration:1200 + Math.random()*800});
      setTimeout(()=> s.remove(), 1600);
    }
    if(emit > 24) { clearInterval(heartInterval); }
  }, 120);
}

/* shooting stars periodically */
function spawnShooting(){
  const s = document.createElement('div'); s.className='shoot';
  s.style.left = (5 + Math.random()*80)+'%';
  s.style.top = (10 + Math.random()*40)+'%';
  document.getElementById('shoots').appendChild(s);
  s.style.opacity = '0';
  s.style.transform = 'rotate(-25deg)';
  s.style.animation = `shoot ${700 + Math.random()*1200}ms linear forwards`;
  setTimeout(()=> s.remove(), 2000 + Math.random()*1400);
}
setInterval(()=>{ if(Math.random() > 0.45) spawnShooting(); }, 900);

/* messages sequence */
const messages = [
  "Enanga â€” today the stars blink just a little brighter for you.",
  "You are my calm, my laughter, the soft place in every day.",
  "Each little light is a memory â€” every photo holds a smile I cherish.",
  "Happy Birthday, my love. I will always choose you."
];
let msgIndex = 0;
const msgEl = document.getElementById('message');
document.getElementById('nextMsg').addEventListener('click', ()=>{
  msgIndex = (msgIndex + 1) % messages.length;
  msgEl.textContent = messages[msgIndex];
});

/* release control */
document.getElementById('releaseBtn').addEventListener('click', ()=>{
  document.getElementById('releaseBtn').disabled = true;
  release();
});

/* surprise modal */
document.getElementById('surpriseBtn').addEventListener('click', ()=> {
  document.getElementById('surpriseModal').style.display = 'flex';
});
document.getElementById('closeSurprise').addEventListener('click', ()=> {
  document.getElementById('surpriseModal').style.display = 'none';
});

/* music control */
const bg = document.getElementById('bgMusic');
document.getElementById('playMusic').addEventListener('click', ()=>{
  if(!bg.src){ alert('No music file found. Put a file at music/background.mp3 or remove the music block.'); return; }
  if(bg.paused){ bg.play().catch(()=>{}); document.getElementById('playMusic').textContent='Pause Music â™ª'; }
  else { bg.pause(); document.getElementById('playMusic').textContent='Play Music â™ª'; }
});

/* initial load: look for images */
preload(photos, (found)=>{
  found.sort();
  build(found);
  // also allow clicking background to release
  document.getElementById('sky').addEventListener('click', (e)=>{ if(e.target.id==='sky'){ document.getElementById('releaseBtn').disabled = true; release(); } });
});

/* responsive rebuild on resize */
window.addEventListener('resize', ()=>{
  const imgs = Array.from(document.querySelectorAll('.lantern img')).map(i=>i.src);
  if(imgs.length) build(imgs);
});
</script>
</body>
</html>
